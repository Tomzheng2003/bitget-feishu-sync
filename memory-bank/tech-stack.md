# 技术栈选型 (v4.8)

## 设计原则

> **最简单但最健壮** = 最少的依赖 + 最成熟的方案 + 最低的维护成本

---

## 核心依赖 (仅 3 个)

```txt
requests          # HTTP 请求库
lark-oapi         # 飞书官方 Python SDK
python-dotenv     # 环境变量管理
```

---

## 技术架构

```
┌─────────────────────────────────────────────────────────┐
│                    Python 单进程服务                      │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│  │ Bitget SDK  │  │  lark-oapi  │  │  state.json │     │
│  │  (API调用)   │  │  (API调用)   │  │  (状态缓存)  │     │
│  └─────────────┘  └─────────────┘  └─────────────┘     │
└─────────────────────────────────────────────────────────┘
          │                   │
          ▼                   ▼
     ┌─────────┐        ┌───────────┐
     │ Bitget  │        │ 飞书多维表格 │
     └─────────┘        └───────────┘
```

---

## 部署方式

| 方案 | 适用场景 |
|------|----------|
| **Docker + VPS** | ✅ 推荐 (7x24 运行) |
| 本地 Mac Docker | 测试开发 |
| systemd 服务 | Linux 原生部署 |

---

## 同步策略

| 维度 | 选型 |
|------|------|
| 轮询间隔 | 10 秒 |
| 状态缓存 | JSON 文件 |
| API 调用 | 事件驱动 (仅开仓/平仓/DCA时写入) |
| 日志管理 | 按天轮转, 保留 7 天 |

---

## 总结

| 维度 | 选型 |
|------|------|
| **语言** | Python 3.9+ |
| **框架** | 无 (纯脚本) |
| **存储** | JSON 文件 |
| **部署** | Docker Compose |
| **依赖数** | 3 个 |
| **代码量** | ~320 行 |
